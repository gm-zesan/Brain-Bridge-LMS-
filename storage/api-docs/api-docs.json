{
    "openapi": "3.0.0",
    "info": {
        "title": "Brain Bridge API Documentation",
        "description": "API documentation for Brain Bridge application",
        "contact": {
            "email": "gmzesan7767@gmail.com"
        },
        "version": "1.0.0"
    },
    "paths": {
        "/api/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register a new user",
                "description": "Registers a new user with Firebase and creates a local user record",
                "operationId": "registerUser",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "john@gmail.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered successfully"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Server error"
                    }
                }
            }
        },
        "/api/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login a user",
                "description": "Logs in a user using Firebase authentication",
                "operationId": "loginUser",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "jhon@gmail.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful"
                    },
                    "401": {
                        "description": "Invalid credentials"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Server error"
                    }
                }
            }
        },
        "/api/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get authenticated user",
                "description": "Retrieves the currently authenticated user's information",
                "operationId": "getAuthenticatedUser",
                "responses": {
                    "200": {
                        "description": "User retrieved successfully"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Update authenticated user's profile",
                "description": "Update user's profile information. If the user is a teacher, can also update teacher details and skills.",
                "operationId": "9755ac19a0f09c2e47519ef9f1f9cc0d",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "john@example.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "+1234567890"
                                    },
                                    "bio": {
                                        "type": "string",
                                        "example": "Experienced web developer"
                                    },
                                    "address": {
                                        "type": "string",
                                        "example": "123 Main Street"
                                    },
                                    "profile_picture": {
                                        "type": "string",
                                        "example": "avatars/1764352355_6929e16303767.jpg"
                                    },
                                    "title": {
                                        "type": "string",
                                        "example": "Senior Teacher"
                                    },
                                    "introduction_video": {
                                        "type": "string",
                                        "example": "intro_videos/intro.mp4"
                                    },
                                    "base_pay": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 50.5
                                    },
                                    "payment_method": {
                                        "type": "string",
                                        "example": "paypal"
                                    },
                                    "bank_account_number": {
                                        "type": "string",
                                        "example": "123456789"
                                    },
                                    "bank_routing_number": {
                                        "type": "string",
                                        "example": "987654321"
                                    },
                                    "bank_name": {
                                        "type": "string",
                                        "example": "Bank of Examples"
                                    },
                                    "paypal_email": {
                                        "type": "string",
                                        "example": "john@example.com"
                                    },
                                    "stripe_account_id": {
                                        "type": "string",
                                        "example": "acct_1Example12345"
                                    },
                                    "tax_id": {
                                        "type": "string",
                                        "example": "TAX123456"
                                    },
                                    "skills": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "skill_id": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "years_of_experience": {
                                                    "type": "integer",
                                                    "example": 5
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Profile updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Profile updated successfully"
                                        },
                                        "user": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/email/verify/{id}/{hash}": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Verify user email",
                "description": "Verifies the user's email using signed URL",
                "operationId": "c638d628d7137ba3799d99ebf629f0dd",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "hash",
                        "in": "path",
                        "description": "Signed hash from email link",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Email verified successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Email verified successfully."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/password/reset": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Reset user password",
                "description": "Sends a password reset link to the user's email",
                "operationId": "resetPassword",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "jhon@gmail.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Password reset link sent successfully"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Server error"
                    }
                }
            }
        },
        "/api/slots": {
            "get": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Get all available slots (filter by teacher/date)",
                "operationId": "93120f556ae91c2e69713991c0ded95a",
                "parameters": [
                    {
                        "name": "teacher_id",
                        "in": "query",
                        "description": "Filter slots by teacher ID",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "date",
                        "in": "query",
                        "description": "Filter slots by date (YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of available slots",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "slots": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer"
                                                    },
                                                    "teacher": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer"
                                                            },
                                                            "name": {
                                                                "type": "string"
                                                            },
                                                            "email": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "subject": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer"
                                                            },
                                                            "name": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "date": {
                                                        "type": "string",
                                                        "format": "date"
                                                    },
                                                    "time": {
                                                        "type": "string"
                                                    },
                                                    "available_seats": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/slots/{id}": {
            "get": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Get full details of a slot",
                "operationId": "28482fa93e51b33a7a6252eda122c576",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the slot",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Slot details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer"
                                        },
                                        "teacher": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "email": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "subject_id": {
                                            "type": "integer"
                                        },
                                        "available_date": {
                                            "type": "string",
                                            "format": "date"
                                        },
                                        "slots": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "start_time": {
                                                        "type": "string"
                                                    },
                                                    "end_time": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": {
                                            "type": "string"
                                        },
                                        "price": {
                                            "type": "number",
                                            "format": "float"
                                        },
                                        "description": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/slot/bookings/intent": {
            "post": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Create booking payment intent",
                "description": "Creates a Stripe payment intent for booking a slot. Returns client_secret for frontend payment processing.",
                "operationId": "createBookingIntent",
                "requestBody": {
                    "description": "Slot ID and schedule date for booking",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "slot_id",
                                    "scheduled_date"
                                ],
                                "properties": {
                                    "slot_id": {
                                        "description": "ID of the available slot to book",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "scheduled_date": {
                                        "description": "Date on which the session will be booked (must be within slot range)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2025-11-20"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Booking intent created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "requires_payment": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "client_secret": {
                                            "type": "string",
                                            "example": "pi_xxxxx_secret_xxxxx"
                                        },
                                        "payment_intent_id": {
                                            "type": "string",
                                            "example": "pi_xxxxx"
                                        },
                                        "amount": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 50
                                        },
                                        "slot": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "subject": {
                                                    "type": "string",
                                                    "example": "Mathematics"
                                                },
                                                "teacher": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "start_time": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-12-01 10:00:00"
                                                },
                                                "end_time": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-12-01 11:00:00"
                                                },
                                                "price": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 50
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Slot is full or already booked",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "This slot is already full"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Slot not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Slot not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The slot id field is required."
                                        },
                                        "errors": {
                                            "properties": {
                                                "slot_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The slot id field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error - payment intent creation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to create payment intent"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Stripe API error message"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/slot/bookings/confirm": {
            "post": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Confirm booking after payment",
                "description": "Confirms and finalizes the booking after successful payment. Creates lesson session, generates Google Meet link, and sends confirmation emails. For free sessions, payment_intent_id is not required.",
                "operationId": "confirmBooking",
                "requestBody": {
                    "description": "Booking confirmation data",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "slot_id",
                                    "scheduled_date"
                                ],
                                "properties": {
                                    "slot_id": {
                                        "description": "ID of the slot to confirm booking",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "scheduled_date": {
                                        "description": "Available Date selection by User",
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "payment_intent_id": {
                                        "description": "Stripe payment intent ID (required for paid sessions, optional for free sessions)",
                                        "type": "string",
                                        "example": "pi_3QXxxxxxxxxxxxx",
                                        "nullable": true
                                    },
                                    "points_to_use": {
                                        "description": "Number of points to use for discount",
                                        "type": "integer",
                                        "example": 100,
                                        "nullable": true
                                    },
                                    "new_payment_amount": {
                                        "description": "New payment amount after applying points",
                                        "type": "number",
                                        "format": "float",
                                        "example": 79.99,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Booking confirmed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Booking confirmed successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "session_id": {
                                                    "type": "integer",
                                                    "example": 42
                                                },
                                                "meeting_link": {
                                                    "type": "string",
                                                    "example": "https://meet.google.com/abc-defg-hij",
                                                    "nullable": true
                                                },
                                                "payment_status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "paid",
                                                        "free"
                                                    ],
                                                    "example": "paid"
                                                },
                                                "amount_paid": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 50
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - validation or payment error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "This slot is already full"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "You already booked this slot"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "Payment intent ID is required"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "Failed to verify payment"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "Payment not completed"
                                                },
                                                "payment_status": {
                                                    "type": "string",
                                                    "example": "requires_payment_method"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Slot not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Slot not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The slot id field is required."
                                        },
                                        "errors": {
                                            "properties": {
                                                "slot_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The slot id field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error - booking confirmation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Booking confirmation failed. Please contact support."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/student/booked-slots": {
            "get": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Get list of slots booked by the authenticated student",
                "operationId": "53f9cbb036d048a2f75e5535ce248830",
                "responses": {
                    "200": {
                        "description": "List of booked slots returned successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "slots": {
                                            "properties": {
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 10
                                                            },
                                                            "slot_id": {
                                                                "type": "integer",
                                                                "example": 2
                                                            },
                                                            "student_id": {
                                                                "type": "integer",
                                                                "example": 4
                                                            },
                                                            "scheduled_date": {
                                                                "type": "string",
                                                                "format": "date",
                                                                "example": "2025-11-20"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "example": "scheduled"
                                                            },
                                                            "slot": {
                                                                "properties": {
                                                                    "id": {
                                                                        "type": "integer",
                                                                        "example": 2
                                                                    },
                                                                    "title": {
                                                                        "type": "string",
                                                                        "example": "Math Class"
                                                                    },
                                                                    "type": {
                                                                        "type": "string",
                                                                        "example": "one_to_one"
                                                                    },
                                                                    "price": {
                                                                        "type": "number",
                                                                        "example": 50
                                                                    },
                                                                    "teacher": {
                                                                        "properties": {
                                                                            "id": {
                                                                                "type": "integer",
                                                                                "example": 7
                                                                            },
                                                                            "name": {
                                                                                "type": "string",
                                                                                "example": "John Doe"
                                                                            },
                                                                            "email": {
                                                                                "type": "string",
                                                                                "example": "john@example.com"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    },
                                                                    "subject": {
                                                                        "properties": {
                                                                            "id": {
                                                                                "type": "integer",
                                                                                "example": 1
                                                                            },
                                                                            "name": {
                                                                                "type": "string",
                                                                                "example": "Mathematics"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "first_page_url": {
                                                    "type": "string",
                                                    "example": "http://localhost/api/student/booked-slots?page=1"
                                                },
                                                "from": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "last_page_url": {
                                                    "type": "string",
                                                    "example": "http://localhost/api/student/booked-slots?page=3"
                                                },
                                                "next_page_url": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "path": {
                                                    "type": "string",
                                                    "example": "http://localhost/api/student/booked-slots"
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "prev_page_url": {
                                                    "type": "string",
                                                    "example": null
                                                },
                                                "to": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "total": {
                                                    "type": "integer",
                                                    "example": 27
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/teacher/slots": {
            "get": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Teacher views their own slots",
                "operationId": "b4d333fac1d43bc1007602287c0ff4c6",
                "responses": {
                    "200": {
                        "description": "Teacher's slots"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Teacher creates one or more slots",
                "operationId": "737a767aa7ce1279038fd1509ea5dd60",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "subject_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "from_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "to_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "slots": {
                                        "type": "array",
                                        "items": {
                                            "properties": {
                                                "start_time": {
                                                    "type": "string",
                                                    "example": "09:00"
                                                },
                                                "end_time": {
                                                    "type": "string",
                                                    "example": "11:00"
                                                },
                                                "meeting_link": {
                                                    "type": "string",
                                                    "example": "https://meet.google.com/abc-defg-hij"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "one_to_one",
                                            "group"
                                        ]
                                    },
                                    "price": {
                                        "type": "number",
                                        "example": 50
                                    },
                                    "max_students": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "description": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Slots created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer"
                                                    },
                                                    "title": {
                                                        "type": "string"
                                                    },
                                                    "teacher_id": {
                                                        "type": "integer"
                                                    },
                                                    "subject_id": {
                                                        "type": "integer"
                                                    },
                                                    "from_date": {
                                                        "type": "string",
                                                        "format": "date"
                                                    },
                                                    "to_date": {
                                                        "type": "string",
                                                        "format": "date"
                                                    },
                                                    "start_time": {
                                                        "type": "string"
                                                    },
                                                    "end_time": {
                                                        "type": "string"
                                                    },
                                                    "meeting_link": {
                                                        "type": "string"
                                                    },
                                                    "type": {
                                                        "type": "string"
                                                    },
                                                    "price": {
                                                        "type": "number"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "max_students": {
                                                        "type": "integer"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/teacher/slots/{id}": {
            "put": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Update an available slot",
                "description": "Teacher updates their own slot. Cannot update if the slot has bookings. All fields are optional.",
                "operationId": "updateSlot",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID of the slot to update",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "description": "Fields to update (all optional)",
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "title": {
                                        "description": "Slot title",
                                        "type": "string",
                                        "example": "Advanced Mathematics Session"
                                    },
                                    "subject_id": {
                                        "description": "Subject ID",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "from_date": {
                                        "description": "Start date (YYYY-MM-DD)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-12-01"
                                    },
                                    "to_date": {
                                        "description": "End date (YYYY-MM-DD), must be after or equal to from_date",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-12-31"
                                    },
                                    "start_time": {
                                        "description": "Start time in HH:MM format (24-hour)",
                                        "type": "string",
                                        "format": "time",
                                        "example": "14:00"
                                    },
                                    "end_time": {
                                        "description": "End time in HH:MM format (24-hour), must be after start_time",
                                        "type": "string",
                                        "format": "time",
                                        "example": "15:30"
                                    },
                                    "meeting_link": {
                                        "description": "Meeting link URL",
                                        "type": "string",
                                        "example": "https://meet.google.com/abc-defg-hij"
                                    },
                                    "type": {
                                        "description": "Session type",
                                        "type": "string",
                                        "enum": [
                                            "one_to_one",
                                            "group"
                                        ],
                                        "example": "one_to_one"
                                    },
                                    "price": {
                                        "description": "Price per session (nullable, minimum 0)",
                                        "type": "number",
                                        "format": "float",
                                        "example": 50,
                                        "nullable": true
                                    },
                                    "max_students": {
                                        "description": "Maximum number of students (minimum 1)",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "description": {
                                        "description": "Slot description",
                                        "type": "string",
                                        "example": "This session covers advanced calculus topics including derivatives and integrals.",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Slot updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Slot updated successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "teacher_id": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "Advanced Mathematics Session"
                                                },
                                                "subject_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "from_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2024-12-01"
                                                },
                                                "to_date": {
                                                    "type": "string",
                                                    "format": "date",
                                                    "example": "2024-12-31"
                                                },
                                                "start_time": {
                                                    "type": "string",
                                                    "example": "14:00:00"
                                                },
                                                "end_time": {
                                                    "type": "string",
                                                    "example": "15:30:00"
                                                },
                                                "meeting_link": {
                                                    "type": "string",
                                                    "example": "https://meet.google.com/abc-defg-hij"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "one_to_one"
                                                },
                                                "price": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 50
                                                },
                                                "max_students": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "booked_count": {
                                                    "type": "integer",
                                                    "example": 0
                                                },
                                                "is_booked": {
                                                    "type": "boolean",
                                                    "example": false
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Advanced calculus session"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-11-16T10:30:00.000000Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2024-11-16T12:45:00.000000Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Cannot update - slot has bookings",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cannot update a booked slot"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - not the slot owner",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Slot not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Slot not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The end time must be a time after start time."
                                        },
                                        "errors": {
                                            "properties": {
                                                "end_time": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The end time must be a time after start time."
                                                    }
                                                },
                                                "to_date": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The to date must be a date after or equal to from date."
                                                    }
                                                },
                                                "subject_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The selected subject id is invalid."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Teacher deletes a slot",
                "operationId": "639aec901f20f03aecefce387ac366c1",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Slot deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "teacher/slots/booked": {
            "get": {
                "tags": [
                    "Available Slots"
                ],
                "summary": "Teacher views their own booked slots",
                "operationId": "3bb2fe456fb82f712ddc780b8f76ff4f",
                "responses": {
                    "200": {
                        "description": "Teacher's slots"
                    }
                }
            }
        },
        "/api/public-courses": {
            "get": {
                "tags": [
                    "Courses"
                ],
                "summary": "Get all published courses",
                "description": "Retrieve all published courses available for public access. Includes course details, teacher information, modules, and video lessons.",
                "operationId": "getAllPublicCourses",
                "responses": {
                    "200": {
                        "description": "List of published courses retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "Complete Web Development Bootcamp"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Learn web development from scratch with HTML, CSS, JavaScript, and more"
                                                    },
                                                    "subject_id": {
                                                        "type": "integer",
                                                        "example": 5
                                                    },
                                                    "teacher_id": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "price": {
                                                        "type": "number",
                                                        "format": "float",
                                                        "example": 99.99
                                                    },
                                                    "duration_weeks": {
                                                        "type": "integer",
                                                        "example": 12,
                                                        "nullable": true
                                                    },
                                                    "difficulty_level": {
                                                        "type": "string",
                                                        "enum": [
                                                            "beginner",
                                                            "intermediate",
                                                            "advanced"
                                                        ],
                                                        "example": "beginner"
                                                    },
                                                    "thumbnail_url": {
                                                        "type": "string",
                                                        "example": "https://example.com/thumbnails/course1.jpg",
                                                        "nullable": true
                                                    },
                                                    "is_published": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "enrollment_count": {
                                                        "type": "integer",
                                                        "example": 150
                                                    },
                                                    "average_rating": {
                                                        "type": "number",
                                                        "format": "float",
                                                        "example": 4.5
                                                    },
                                                    "reviews_count": {
                                                        "type": "integer",
                                                        "example": 45
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-01T10:30:00.000000Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2024-11-16T12:45:00.000000Z"
                                                    },
                                                    "subject": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 5
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Web Development"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "Learn modern web development technologies",
                                                                "nullable": true
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2024-01-01T00:00:00.000000Z"
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2024-01-01T00:00:00.000000Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "teacher": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 10
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "John Doe"
                                                            },
                                                            "email": {
                                                                "type": "string",
                                                                "example": "john@example.com"
                                                            },
                                                            "role": {
                                                                "type": "string",
                                                                "example": "teacher"
                                                            },
                                                            "profile_picture": {
                                                                "type": "string",
                                                                "example": "https://example.com/profiles/john.jpg",
                                                                "nullable": true
                                                            },
                                                            "bio": {
                                                                "type": "string",
                                                                "example": "Experienced web developer with 10+ years",
                                                                "nullable": true
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2023-01-15T08:30:00.000000Z"
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "2024-11-10T14:20:00.000000Z"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "modules": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 1
                                                                },
                                                                "course_id": {
                                                                    "type": "integer",
                                                                    "example": 1
                                                                },
                                                                "title": {
                                                                    "type": "string",
                                                                    "example": "Introduction to HTML"
                                                                },
                                                                "description": {
                                                                    "type": "string",
                                                                    "example": "Learn the basics of HTML structure and tags",
                                                                    "nullable": true
                                                                },
                                                                "order": {
                                                                    "type": "integer",
                                                                    "example": 1
                                                                },
                                                                "duration_minutes": {
                                                                    "type": "integer",
                                                                    "example": 120,
                                                                    "nullable": true
                                                                },
                                                                "created_at": {
                                                                    "type": "string",
                                                                    "format": "date-time",
                                                                    "example": "2024-11-01T11:00:00.000000Z"
                                                                },
                                                                "updated_at": {
                                                                    "type": "string",
                                                                    "format": "date-time",
                                                                    "example": "2024-11-01T11:00:00.000000Z"
                                                                },
                                                                "video_lessons": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "properties": {
                                                                            "id": {
                                                                                "type": "integer",
                                                                                "example": 1
                                                                            },
                                                                            "module_id": {
                                                                                "type": "integer",
                                                                                "example": 1
                                                                            },
                                                                            "title": {
                                                                                "type": "string",
                                                                                "example": "HTML Basics - Part 1"
                                                                            },
                                                                            "description": {
                                                                                "type": "string",
                                                                                "example": "Introduction to HTML tags and structure",
                                                                                "nullable": true
                                                                            },
                                                                            "video_url": {
                                                                                "type": "string",
                                                                                "example": "https://example.com/videos/lesson1.mp4"
                                                                            },
                                                                            "duration_seconds": {
                                                                                "type": "integer",
                                                                                "example": 1800
                                                                            },
                                                                            "order": {
                                                                                "type": "integer",
                                                                                "example": 1
                                                                            },
                                                                            "is_preview": {
                                                                                "type": "boolean",
                                                                                "example": true
                                                                            },
                                                                            "created_at": {
                                                                                "type": "string",
                                                                                "format": "date-time",
                                                                                "example": "2024-11-01T11:30:00.000000Z"
                                                                            },
                                                                            "updated_at": {
                                                                                "type": "string",
                                                                                "format": "date-time",
                                                                                "example": "2024-11-01T11:30:00.000000Z"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to retrieve courses"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/public-courses/{id}": {
            "get": {
                "tags": [
                    "Courses"
                ],
                "summary": "Get a specific course by ID",
                "operationId": "ef3fce35a0497bb84b2ac9cdbd775343",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Course ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Course retrieved successfully"
                    },
                    "404": {
                        "description": "Course not found"
                    }
                }
            }
        },
        "/api/courses/payment-intent": {
            "post": {
                "tags": [
                    "Courses"
                ],
                "summary": "Create payment intent for course purchase",
                "description": "Creates a Stripe payment intent for purchasing a course. Returns payment details or indicates if the course is free.",
                "operationId": "fc24c09d352c20de6856ce564ae01080",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "course_id"
                                ],
                                "properties": {
                                    "course_id": {
                                        "description": "ID of the course to purchase",
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Payment intent created successfully or free course",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "requires_payment": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "client_secret": {
                                            "type": "string",
                                            "example": "pi_xxxxx_secret_xxxxx"
                                        },
                                        "payment_intent_id": {
                                            "type": "string",
                                            "example": "pi_xxxxx"
                                        },
                                        "amount": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 99.99
                                        },
                                        "course": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "Complete Web Development Course"
                                                },
                                                "subject": {
                                                    "type": "string",
                                                    "example": "Programming"
                                                },
                                                "teacher": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "price": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 99.99
                                                },
                                                "old_price": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 149.99,
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Course not available or already purchased",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "You already own this course"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Course not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Course not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to create payment intent"
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "Error details"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/courses/confirm-purchase": {
            "post": {
                "tags": [
                    "Courses"
                ],
                "summary": "Confirm course purchase",
                "description": "Confirms the course purchase after payment verification. Creates enrollment record and sends confirmation emails to both student and teacher.",
                "operationId": "680c442d09fd5df50063ea595981c2bc",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "course_id"
                                ],
                                "properties": {
                                    "course_id": {
                                        "description": "ID of the course to purchase",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "payment_intent_id": {
                                        "description": "Stripe payment intent ID (required for paid courses)",
                                        "type": "string",
                                        "example": "pi_xxxxx",
                                        "nullable": true
                                    },
                                    "points_to_use": {
                                        "description": "Number of points to use for discount",
                                        "type": "integer",
                                        "example": 100,
                                        "nullable": true
                                    },
                                    "new_payment_amount": {
                                        "description": "New payment amount after applying points",
                                        "type": "number",
                                        "format": "float",
                                        "example": 79.99,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Course purchase confirmed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Course purchased successfully"
                                        },
                                        "data": {
                                            "properties": {
                                                "enrollment_id": {
                                                    "type": "integer",
                                                    "example": 123
                                                },
                                                "course_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "payment_status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "free",
                                                        "paid"
                                                    ],
                                                    "example": "paid"
                                                },
                                                "amount_paid": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 99.99
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Validation or business logic error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "This course is not available"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "You already own this course"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "Payment intent ID is required"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "Failed to verify payment"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "Payment not completed"
                                                },
                                                "payment_status": {
                                                    "type": "string",
                                                    "example": "processing"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Course not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Course not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error - Transaction rolled back",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Purchase confirmation failed. Please contact support."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/student/enrolled-courses": {
            "get": {
                "tags": [
                    "Courses"
                ],
                "summary": "Get all courses the authenticated student is enrolled in",
                "operationId": "d11dec782f579d4307bea1731feac24e",
                "responses": {
                    "200": {
                        "description": "List of enrolled courses retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/student/enrolled-courses/{course_id}": {
            "get": {
                "tags": [
                    "Courses"
                ],
                "summary": "Get details of a specific enrolled course for the authenticated student",
                "operationId": "cee41e78f5a75f3dd1c93a95bd654e31",
                "parameters": [
                    {
                        "name": "course_id",
                        "in": "path",
                        "description": "Course ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Enrolled course details retrieved successfully"
                    },
                    "404": {
                        "description": "Enrollment not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/teacher/enrolled-courses": {
            "get": {
                "tags": [
                    "Courses"
                ],
                "summary": "Get all students enrolled in the authenticated teacher's courses",
                "operationId": "b6b7b07eb8683ef2e12fbd772f5217a8",
                "responses": {
                    "200": {
                        "description": "List of enrolled students retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/courses": {
            "get": {
                "tags": [
                    "Courses"
                ],
                "summary": "Get all published courses",
                "operationId": "e5bb3ced9ee1b25db833ef1eeb6c992e",
                "responses": {
                    "200": {
                        "description": "List of courses retrieved successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Courses"
                ],
                "summary": "Create a new course with modules and videos",
                "description": "Creates a complete course structure including multiple modules and video lessons. Each module can contain multiple videos. Supports file uploads for course thumbnail and video files.",
                "operationId": "createCourse",
                "requestBody": {
                    "description": "Course creation data with modules and videos",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description",
                                    "subject_id",
                                    "price",
                                    "modules"
                                ],
                                "properties": {
                                    "title": {
                                        "description": "Course title",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Complete Web Development Bootcamp 2024"
                                    },
                                    "description": {
                                        "description": "Detailed course description",
                                        "type": "string",
                                        "example": "Master modern web development from scratch. Learn HTML5, CSS3, JavaScript, React, Node.js, and Laravel with hands-on projects."
                                    },
                                    "thumbnail_url": {
                                        "description": "Course thumbnail image (JPEG, PNG, GIF - Max: 5MB)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "subject_id": {
                                        "description": "Subject ID from subjects table",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "price": {
                                        "description": "Current course price",
                                        "type": "number",
                                        "format": "float",
                                        "example": 2999.99
                                    },
                                    "old_price": {
                                        "description": "Original price before discount (optional)",
                                        "type": "number",
                                        "format": "float",
                                        "example": 4999.99
                                    },
                                    "is_published": {
                                        "description": "Publish status (default: false)",
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "modules": {
                                        "description": "Array of course modules (minimum 1 required)",
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "title",
                                                "order_index"
                                            ],
                                            "properties": {
                                                "title": {
                                                    "description": "Module title",
                                                    "type": "string",
                                                    "maxLength": 255,
                                                    "example": "Introduction to Web Development"
                                                },
                                                "description": {
                                                    "description": "Module description (optional)",
                                                    "type": "string",
                                                    "example": "Learn the fundamentals of web development and setup your development environment"
                                                },
                                                "order_index": {
                                                    "description": "Display order of module",
                                                    "type": "integer",
                                                    "minimum": 1,
                                                    "example": 1
                                                },
                                                "videos": {
                                                    "description": "Array of video lessons for this module (optional)",
                                                    "type": "array",
                                                    "items": {
                                                        "required": [
                                                            "title",
                                                            "file"
                                                        ],
                                                        "properties": {
                                                            "title": {
                                                                "description": "Video lesson title",
                                                                "type": "string",
                                                                "maxLength": 255,
                                                                "example": "What is HTML and How Does it Work?"
                                                            },
                                                            "description": {
                                                                "description": "Video lesson description (optional)",
                                                                "type": "string",
                                                                "example": "Learn about HTML structure, tags, and elements with practical examples"
                                                            },
                                                            "duration_hours": {
                                                                "description": "Video duration in hours (optional)",
                                                                "type": "number",
                                                                "format": "float",
                                                                "minimum": 0,
                                                                "example": 1.5
                                                            },
                                                            "file": {
                                                                "description": "Video file (MP4, AVI, MOV - Max: 500MB)",
                                                                "type": "string",
                                                                "format": "binary"
                                                            },
                                                            "is_published": {
                                                                "description": "Video publish status (default: false)",
                                                                "type": "boolean",
                                                                "example": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object",
                                "example": {
                                    "title": "Complete Web Development Bootcamp 2024",
                                    "description": "Master modern web development",
                                    "subject_id": 1,
                                    "price": 2999.99,
                                    "old_price": 4999.99,
                                    "is_published": true,
                                    "modules": [
                                        {
                                            "title": "HTML Fundamentals",
                                            "description": "Learn HTML from basics to advanced",
                                            "order_index": 1,
                                            "videos": [
                                                {
                                                    "title": "Introduction to HTML",
                                                    "description": "What is HTML?",
                                                    "duration_hours": 0.5,
                                                    "is_published": true
                                                },
                                                {
                                                    "title": "HTML Tags and Elements",
                                                    "duration_hours": 1,
                                                    "is_published": true
                                                }
                                            ]
                                        },
                                        {
                                            "title": "CSS Styling",
                                            "order_index": 2,
                                            "videos": [
                                                {
                                                    "title": "CSS Basics",
                                                    "duration_hours": 0.75,
                                                    "is_published": true
                                                }
                                            ]
                                        }
                                    ]
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Course created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Course created successfully with 2 modules and 5 videos"
                                        },
                                        "data": {
                                            "properties": {
                                                "course": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "title": {
                                                            "type": "string",
                                                            "example": "Complete Web Development Bootcamp 2024"
                                                        },
                                                        "slug": {
                                                            "type": "string",
                                                            "example": "complete-web-development-bootcamp-2024"
                                                        },
                                                        "description": {
                                                            "type": "string",
                                                            "example": "Master modern web development"
                                                        },
                                                        "thumbnail_url": {
                                                            "type": "string",
                                                            "example": "thumbnails/1699123456_course-thumb.jpg"
                                                        },
                                                        "subject_id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "teacher_id": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 2999.99
                                                        },
                                                        "old_price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 4999.99
                                                        },
                                                        "is_published": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "created_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2024-11-07T10:30:00.000000Z"
                                                        },
                                                        "updated_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2024-11-07T10:30:00.000000Z"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "modules": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "course_id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "HTML Fundamentals"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "Learn HTML from basics to advanced"
                                                            },
                                                            "order_index": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "videos": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "module_id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "Introduction to HTML"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "What is HTML?"
                                                            },
                                                            "duration_hours": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 0.5
                                                            },
                                                            "video_url": {
                                                                "type": "string",
                                                                "example": "videos/1699123456_intro-html.mp4"
                                                            },
                                                            "video_path": {
                                                                "type": "string",
                                                                "example": "public/videos/1699123456_intro-html.mp4"
                                                            },
                                                            "filename": {
                                                                "type": "string",
                                                                "example": "1699123456_intro-html.mp4"
                                                            },
                                                            "is_published": {
                                                                "type": "boolean",
                                                                "example": true
                                                            },
                                                            "created_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            },
                                                            "updated_at": {
                                                                "type": "string",
                                                                "format": "date-time"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "statistics": {
                                                    "properties": {
                                                        "total_modules": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "total_videos": {
                                                            "type": "integer",
                                                            "example": 5
                                                        },
                                                        "total_duration_hours": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 7.5
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Validation failed"
                                        },
                                        "errors": {
                                            "properties": {
                                                "title": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The title field is required."
                                                    }
                                                },
                                                "modules.0.videos.0.file": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The video file must be a file of type: mp4, avi, mov."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated. Please login to continue."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - User not authorized as teacher",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Only teachers can create courses"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error - Course creation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to create course. Please try again."
                                        },
                                        "error": {
                                            "type": "string",
                                            "example": "SQLSTATE[23000]: Integrity constraint violation"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/courses/{id}": {
            "get": {
                "tags": [
                    "Courses"
                ],
                "summary": "Get a specific course by ID",
                "operationId": "b397adee07c4261a03587dc826158426",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Course ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Course retrieved successfully"
                    },
                    "404": {
                        "description": "Course not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Courses"
                ],
                "summary": "Delete a course",
                "operationId": "933534a874c97e53e6f6e7f9f2658247",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Course ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Course deleted successfully"
                    },
                    "404": {
                        "description": "Course not found"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/courses/{courseId}": {
            "put": {
                "tags": [
                    "Courses"
                ],
                "summary": "Update course with modules and videos",
                "description": "Updates an existing course including its modules and videos. Supports background video upload for new/replaced videos. Can add, update, or delete modules and videos. Only the course owner can update.",
                "operationId": "e4fb8003e8bf204f662e2f5c1100f73c",
                "parameters": [
                    {
                        "name": "courseId",
                        "in": "path",
                        "description": "ID of the course to update",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "description": "Course update data with modules and videos. Use multipart/form-data for file uploads.",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "title",
                                    "description",
                                    "subject_id",
                                    "price",
                                    "modules"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Complete Web Development Course - Updated"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Learn full-stack web development from scratch with updated content"
                                    },
                                    "thumbnail_url": {
                                        "description": "New course thumbnail image (optional, jpeg/jpg/png/gif, max 5MB)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "subject_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 129.99
                                    },
                                    "old_price": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 199.99,
                                        "nullable": true
                                    },
                                    "is_published": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "modules": {
                                        "description": "Array of modules. Include 'id' for existing modules, omit for new ones.",
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "title",
                                                "order_index"
                                            ],
                                            "properties": {
                                                "id": {
                                                    "description": "Module ID (required for existing modules)",
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "maxLength": 255,
                                                    "example": "Advanced JavaScript"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Deep dive into JavaScript",
                                                    "nullable": true
                                                },
                                                "order_index": {
                                                    "type": "integer",
                                                    "minimum": 1,
                                                    "example": 1
                                                },
                                                "action": {
                                                    "description": "Action to perform on this module",
                                                    "type": "string",
                                                    "enum": [
                                                        "keep",
                                                        "delete"
                                                    ],
                                                    "example": "keep"
                                                },
                                                "videos": {
                                                    "description": "Array of videos. Include 'id' for existing videos, omit for new ones.",
                                                    "type": "array",
                                                    "items": {
                                                        "required": [
                                                            "title"
                                                        ],
                                                        "properties": {
                                                            "id": {
                                                                "description": "Video ID (required for existing videos)",
                                                                "type": "integer",
                                                                "example": 5
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "maxLength": 255,
                                                                "example": "ES6 Features"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "Learn about ES6 syntax",
                                                                "nullable": true
                                                            },
                                                            "duration_hours": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 2.5,
                                                                "nullable": true
                                                            },
                                                            "file": {
                                                                "description": "New/replacement video file (optional, mp4/avi/mov/quicktime, max 500MB)",
                                                                "type": "string",
                                                                "format": "binary"
                                                            },
                                                            "is_published": {
                                                                "type": "boolean",
                                                                "example": true
                                                            },
                                                            "action": {
                                                                "description": "keep=no changes, update=replace video, delete=remove video",
                                                                "type": "string",
                                                                "enum": [
                                                                    "keep",
                                                                    "update",
                                                                    "delete"
                                                                ],
                                                                "example": "keep"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Course updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Course updated successfully. 2 video(s) are being uploaded in the background."
                                        },
                                        "data": {
                                            "properties": {
                                                "course": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "title": {
                                                            "type": "string",
                                                            "example": "Complete Web Development Course - Updated"
                                                        },
                                                        "description": {
                                                            "type": "string",
                                                            "example": "Learn full-stack web development"
                                                        },
                                                        "thumbnail_url": {
                                                            "type": "string",
                                                            "example": "thumbnails/1234567890_abc123.jpg"
                                                        },
                                                        "subject_id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 129.99
                                                        },
                                                        "old_price": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 199.99
                                                        },
                                                        "is_published": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "teacher_id": {
                                                            "type": "integer",
                                                            "example": 10
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "modules_count": {
                                                    "type": "integer",
                                                    "example": 5
                                                },
                                                "videos_queued": {
                                                    "description": "Number of videos being uploaded in background",
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "Some videos are being processed. Check upload status endpoint."
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "title": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The title field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden - Not the course owner",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized to update this course"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Course not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Course not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Update failed: Database connection error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/course-requests": {
            "get": {
                "tags": [
                    "Course Requests"
                ],
                "summary": "Get all course requests (Admin)",
                "description": "Returns a list of all course requests submitted by students.",
                "operationId": "fde7d88b8636d6d5873550470d24474f",
                "responses": {
                    "200": {
                        "description": "List of all course requests",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "student_id": {
                                                "type": "integer",
                                                "example": 10
                                            },
                                            "course_name": {
                                                "type": "string",
                                                "example": "Advanced Machine Learning"
                                            },
                                            "course_description": {
                                                "type": "string",
                                                "example": "A deep learning focused course"
                                            },
                                            "subject": {
                                                "type": "string",
                                                "example": "AI / ML"
                                            },
                                            "additional_note": {
                                                "type": "string",
                                                "example": "This course is important for my research."
                                            },
                                            "status": {
                                                "type": "string",
                                                "example": "pending"
                                            },
                                            "admin_note": {
                                                "type": "string",
                                                "example": ""
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2025-11-29T05:41:51Z"
                                            },
                                            "updated_at": {
                                                "type": "string",
                                                "format": "date-time",
                                                "example": "2025-11-29T05:41:51Z"
                                            },
                                            "student": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 10
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "John Doe"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "example": "john.doe@example.com"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Course Requests"
                ],
                "summary": "Submit a new course request (Student)",
                "description": "Allows a student to submit a new course request for a course that does not exist on the platform.",
                "operationId": "cf704a4c63f5641e5fdef4770ca67147",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "course_name": {
                                        "type": "string",
                                        "example": "Advanced Machine Learning"
                                    },
                                    "course_description": {
                                        "type": "string",
                                        "example": "A deep learning focused course"
                                    },
                                    "subject": {
                                        "type": "string",
                                        "example": "AI / ML"
                                    },
                                    "additional_note": {
                                        "type": "string",
                                        "example": "This course is important for my research."
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Course request submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Course request submitted successfully."
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "course_name": {
                                                    "type": "string",
                                                    "example": "Advanced Machine Learning"
                                                },
                                                "course_description": {
                                                    "type": "string",
                                                    "example": "A deep learning focused course"
                                                },
                                                "subject": {
                                                    "type": "string",
                                                    "example": "AI / ML"
                                                },
                                                "additional_note": {
                                                    "type": "string",
                                                    "example": "This course is important for my research."
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/my-course-requests": {
            "get": {
                "tags": [
                    "Course Requests"
                ],
                "summary": "Get logged-in student's course requests",
                "description": "Returns a list of course requests submitted by the authenticated student.",
                "operationId": "b4b351288ca6c92b72294691a4685f38",
                "responses": {
                    "200": {
                        "description": "Student's course request list",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "My Course Requests"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "course_name": {
                                                        "type": "string",
                                                        "example": "Advanced AI"
                                                    },
                                                    "course_description": {
                                                        "type": "string",
                                                        "example": "A deep learning focused course"
                                                    },
                                                    "subject": {
                                                        "type": "string",
                                                        "example": "AI / ML"
                                                    },
                                                    "additional_note": {
                                                        "type": "string",
                                                        "example": "Useful for project work"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "example": "pending"
                                                    },
                                                    "admin_note": {
                                                        "type": "string",
                                                        "example": ""
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-29T05:41:51Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-29T05:41:51Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/course-request/{id}/approve": {
            "post": {
                "tags": [
                    "Course Requests"
                ],
                "summary": "Approve a course request (Admin)",
                "description": "Admin approves a pending course request.",
                "operationId": "c16197c349807681dce81c6320eaaed7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Course request ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "admin_note": {
                                        "type": "string",
                                        "example": "Approved and will be added next month"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Course request approved",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Course request approved"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/course-request/{id}/reject": {
            "post": {
                "tags": [
                    "Course Requests"
                ],
                "summary": "Reject a course request (Admin)",
                "description": "Admin rejects a course request.",
                "operationId": "52484ac9946d66104b15ce52466d9ee7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Course request ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 5
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "admin_note": {
                                        "type": "string",
                                        "example": "Not suitable for our platform"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Course request rejected",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Course request rejected"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications": {
            "get": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Get paginated notifications for authenticated user (20 per page)",
                "operationId": "48e63b8d00c40cf089be36e2611db3a2",
                "responses": {
                    "200": {
                        "description": "List of notifications",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "notifications": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications/latest": {
            "get": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Get the latest notification for authenticated user",
                "operationId": "fc37eebd90ab620719c27c1e37b75be9",
                "responses": {
                    "200": {
                        "description": "Latest notification",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        },
                                        "notification": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "example": "c1d4a8d1-8dc2-4b29-a7af-9134e3f03e49"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "App\\\\Notifications\\\\TeacherPromoted"
                                                },
                                                "data": {
                                                    "type": "object"
                                                },
                                                "read_at": {
                                                    "type": "string",
                                                    "example": "2025-11-26 13:00:00",
                                                    "nullable": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "example": "2025-11-26 12:55:00"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications/mark-read/{id}": {
            "post": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Mark a notification as read",
                "operationId": "24810e922473b36d820d22a54e167b60",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Notification ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notification marked as read",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/v1/notifications/mark-all-read": {
            "post": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Mark all notifications as read",
                "operationId": "617206fbe9a29f0eb57768eb7d32e64f",
                "responses": {
                    "200": {
                        "description": "All notifications marked as read",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "success"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/reviews": {
            "get": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Get list of reviews",
                "description": "Returns reviews based on logged-in user role:\n     *                  - Admin: all reviews\n     *                  - Teacher: only reviews for themselves",
                "operationId": "getReviews",
                "responses": {
                    "200": {
                        "description": "List of reviews",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "current_page": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "rating": {
                                                        "type": "integer",
                                                        "example": 5
                                                    },
                                                    "comment": {
                                                        "type": "string",
                                                        "example": "Great class!"
                                                    },
                                                    "reviewer": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 3
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Student One"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "teacher": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 5
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "John Doe"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "reviewable": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 44
                                                            },
                                                            "type": {
                                                                "type": "string",
                                                                "example": "lesson_session"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "first_page_url": {
                                            "type": "string",
                                            "example": "/api/reviews?page=1"
                                        },
                                        "last_page": {
                                            "type": "integer",
                                            "example": 3
                                        },
                                        "last_page_url": {
                                            "type": "string",
                                            "example": "/api/reviews?page=3"
                                        },
                                        "next_page_url": {
                                            "type": "string",
                                            "example": "/api/reviews?page=2"
                                        },
                                        "prev_page_url": {
                                            "type": "string",
                                            "example": null
                                        },
                                        "per_page": {
                                            "type": "integer",
                                            "example": 20
                                        },
                                        "total": {
                                            "type": "integer",
                                            "example": 57
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Role not recognized"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reviews/teacher": {
            "post": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Submit a review for a teacher",
                "operationId": "a6d9f1e25088460a504478e2cbdce5ac",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "slot_id",
                                    "rating"
                                ],
                                "properties": {
                                    "slot_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "rating": {
                                        "type": "integer",
                                        "example": 5
                                    },
                                    "comment": {
                                        "type": "string",
                                        "example": "Great teacher!"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Review submitted"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "409": {
                        "description": "Already reviewed"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/reviews/course": {
            "post": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Submit a review for a course",
                "operationId": "86feed92441054cea2a167cf0168721c",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "course_id",
                                    "rating"
                                ],
                                "properties": {
                                    "course_id": {
                                        "type": "integer",
                                        "example": 5
                                    },
                                    "rating": {
                                        "type": "integer",
                                        "example": 4
                                    },
                                    "comment": {
                                        "type": "string",
                                        "example": "Very informative course!"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Review submitted"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "409": {
                        "description": "Already reviewed"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/skills": {
            "get": {
                "tags": [
                    "Skills"
                ],
                "summary": "Get list of all skills",
                "description": "Returns all skills from the database",
                "operationId": "getSkillsList",
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                }
            },
            "post": {
                "tags": [
                    "Skills"
                ],
                "summary": "Create a new skill",
                "description": "Creates a new skill",
                "operationId": "storeSkill",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Problem Solving"
                                    },
                                    "subject_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Skill created successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/skills/{id}": {
            "get": {
                "tags": [
                    "Skills"
                ],
                "summary": "Get skill information",
                "description": "Returns skill data",
                "operationId": "getSkillById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Skill id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    },
                    "404": {
                        "description": "Skill not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Skills"
                ],
                "summary": "Update an existing skill",
                "operationId": "updateSkill",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "subject_id": {
                                        "type": "integer"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Skill updated successfully"
                    },
                    "404": {
                        "description": "Skill not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Skills"
                ],
                "summary": "Delete a skill",
                "operationId": "deleteSkill",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Skill deleted successfully"
                    },
                    "404": {
                        "description": "Skill not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/students": {
            "get": {
                "tags": [
                    "Students"
                ],
                "summary": "Get list of all students",
                "description": "Returns all students from the database",
                "operationId": "getStudentsList",
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Students"
                ],
                "summary": "Create a new student",
                "description": "Creates a student and associated Firebase user",
                "operationId": "storeStudent",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "john@gmail.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "password123"
                                    },
                                    "referral_code": {
                                        "type": "string",
                                        "example": "ABCD1234"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Student created successfully"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Server error"
                    }
                }
            }
        },
        "/api/students/{id}": {
            "get": {
                "tags": [
                    "Students"
                ],
                "summary": "Get student information",
                "operationId": "getStudentById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Student ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    },
                    "404": {
                        "description": "Student not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Students"
                ],
                "summary": "Update student information",
                "operationId": "updateStudent",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Student ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Jane Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "jane@gmail.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "+19876543210"
                                    },
                                    "bio": {
                                        "type": "string",
                                        "example": "This is my updated bio"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Student updated successfully"
                    },
                    "404": {
                        "description": "Student not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/subjects": {
            "get": {
                "tags": [
                    "Subjects"
                ],
                "summary": "Get list of all subjects",
                "description": "Returns all subjects from the database",
                "operationId": "getSubjectsList",
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                }
            },
            "post": {
                "tags": [
                    "Subjects"
                ],
                "summary": "Create a new subject",
                "description": "Creates a new subject",
                "operationId": "storeSubject",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Mathematics"
                                    },
                                    "parent_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Subject created successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/subjects/{id}": {
            "get": {
                "tags": [
                    "Subjects"
                ],
                "summary": "Get subject information",
                "description": "Returns subject data",
                "operationId": "getSubjectById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Subject id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    },
                    "404": {
                        "description": "Subject not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Subjects"
                ],
                "summary": "Update an existing subject",
                "operationId": "updateSubject",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Subject ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Physics"
                                    },
                                    "parent_id": {
                                        "type": "integer",
                                        "example": 2
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Subject updated successfully"
                    },
                    "404": {
                        "description": "Subject not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Subjects"
                ],
                "summary": "Delete a subject",
                "operationId": "deleteSubject",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Subject ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Subject deleted successfully"
                    },
                    "404": {
                        "description": "Subject not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/teachers": {
            "get": {
                "tags": [
                    "Teachers"
                ],
                "summary": "Get list of all teachers",
                "description": "Returns all teachers. You can optionally filter teachers by skill.",
                "operationId": "getTeachersList",
                "parameters": [
                    {
                        "name": "skill",
                        "in": "query",
                        "description": "Filter teachers by skill (e.g., laravel, python)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Teachers"
                ],
                "summary": "Create a new teacher",
                "description": "Creates a teacher and associated Firebase user",
                "operationId": "storeTeacher",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "password123"
                                    },
                                    "title": {
                                        "type": "string",
                                        "example": "Math Teacher"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Teacher created successfully"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/teachers/{id}": {
            "get": {
                "tags": [
                    "Teachers"
                ],
                "summary": "Get teacher by ID",
                "operationId": "showTeacher",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Teacher ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    },
                    "404": {
                        "description": "Teacher not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Teachers"
                ],
                "summary": "Update teacher info",
                "operationId": "updateTeacher",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string"
                                    },
                                    "title": {
                                        "type": "string"
                                    },
                                    "introduction_video": {
                                        "type": "string"
                                    },
                                    "phone": {
                                        "type": "string"
                                    },
                                    "bio": {
                                        "type": "string"
                                    },
                                    "address": {
                                        "type": "string"
                                    },
                                    "profile_picture": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Teacher updated successfully"
                    },
                    "404": {
                        "description": "Teacher not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Teachers"
                ],
                "summary": "Delete a teacher",
                "operationId": "deleteTeacher",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Teacher deleted successfully"
                    },
                    "404": {
                        "description": "Teacher not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/teacher-levels": {
            "get": {
                "tags": [
                    "Teacher Levels"
                ],
                "summary": "Get all teacher levels",
                "description": "Returns a list of all teacher levels",
                "operationId": "getTeacherLevels",
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Teacher Levels"
                ],
                "summary": "Create a new teacher level",
                "operationId": "storeTeacherLevel",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "level_name"
                                ],
                                "properties": {
                                    "level_name": {
                                        "type": "string",
                                        "example": "Senior"
                                    },
                                    "min_rating": {
                                        "type": "integer",
                                        "example": 50
                                    },
                                    "max_rating": {
                                        "type": "integer",
                                        "example": 100
                                    },
                                    "benefits": {
                                        "type": "string",
                                        "example": "Access to premium resources"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Teacher level created successfully"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/teacher-levels/{id}": {
            "get": {
                "tags": [
                    "Teacher Levels"
                ],
                "summary": "Get a specific teacher level",
                "operationId": "showTeacherLevel",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Teacher Level ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    },
                    "404": {
                        "description": "Teacher Level not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Teacher Levels"
                ],
                "summary": "Update a teacher level",
                "operationId": "updateTeacherLevel",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Teacher Level ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "level_name": {
                                        "type": "string",
                                        "example": "Senior"
                                    },
                                    "min_rating": {
                                        "type": "integer",
                                        "example": 50
                                    },
                                    "max_rating": {
                                        "type": "integer",
                                        "example": 100
                                    },
                                    "benefits": {
                                        "type": "string",
                                        "example": "Access to premium resources"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Teacher level updated successfully"
                    },
                    "404": {
                        "description": "Teacher Level not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Teacher Levels"
                ],
                "summary": "Delete a teacher level",
                "operationId": "deleteTeacherLevel",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Teacher Level ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Teacher level deleted successfully"
                    },
                    "404": {
                        "description": "Teacher Level not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/teacher-levels/progress": {
            "get": {
                "tags": [
                    "Teacher Levels"
                ],
                "summary": "Get teacher progress towards next level",
                "description": "Returns the current level, next level, overall progress, and detailed breakdown of requirements for promotion.",
                "operationId": "e9289c316c1314844136d2b0ff7f82c0",
                "responses": {
                    "200": {
                        "description": "Progress retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "current_level": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Silver"
                                                },
                                                "benefits": {
                                                    "type": "string",
                                                    "example": "+10% Pay"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "next_level": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Gold"
                                                },
                                                "benefits": {
                                                    "type": "string",
                                                    "example": "+20% Pay"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "progress_percent": {
                                            "type": "integer",
                                            "example": 62
                                        },
                                        "is_max_level": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "requirements": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Average Rating"
                                                    },
                                                    "key": {
                                                        "type": "string",
                                                        "example": "average_rating"
                                                    },
                                                    "current": {
                                                        "type": "number",
                                                        "example": 4.4
                                                    },
                                                    "required": {
                                                        "type": "number",
                                                        "example": 4.5
                                                    },
                                                    "progress_percent": {
                                                        "type": "integer",
                                                        "example": 97
                                                    },
                                                    "is_met": {
                                                        "type": "boolean",
                                                        "example": false
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Progress towards next level"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Teacher not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions": {
            "get": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Get list of all transactions",
                "description": "Returns all transactions from the database",
                "operationId": "getTransactionsList",
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions/stripe/initiate": {
            "post": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Initiate a Stripe payment",
                "description": "Creates a Stripe Checkout Session for payment",
                "operationId": "initiateStripePayment",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "user_id",
                                    "course_id"
                                ],
                                "properties": {
                                    "user_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "course_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Stripe Checkout Session created successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions/success": {
            "get": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Handle successful Stripe payment",
                "operationId": "stripePaymentSuccess",
                "parameters": [
                    {
                        "name": "session_id",
                        "in": "query",
                        "description": "Stripe Checkout Session ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Payment successful"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions/cancel": {
            "get": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Handle canceled Stripe payment",
                "operationId": "stripePaymentCancel",
                "responses": {
                    "200": {
                        "description": "Payment canceled"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions/stripe/webhook": {
            "post": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Handle Stripe webhook events",
                "operationId": "handleStripeWebhook",
                "responses": {
                    "200": {
                        "description": "Webhook handled successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions/manual": {
            "post": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Record a manual transaction",
                "operationId": "manualTransaction",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "user_id",
                                    "amount",
                                    "type"
                                ],
                                "properties": {
                                    "user_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "course_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "lesson_session_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "amount": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 49.99
                                    },
                                    "currency": {
                                        "type": "string",
                                        "example": "usd"
                                    },
                                    "type": {
                                        "type": "string",
                                        "example": "payment"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Manual transaction recorded successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/transactions/{id}": {
            "get": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Get transaction information",
                "description": "Returns transaction data",
                "operationId": "getTransactionById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Transaction id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Transactions"
                ],
                "summary": "Delete a transaction",
                "description": "Deletes a transaction by ID",
                "operationId": "deleteTransaction",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Transaction id",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transaction deleted successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/users": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Get list of users",
                "operationId": "getUsersList",
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/users/{id}": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Get user information",
                "operationId": "getUserById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    },
                    "404": {
                        "description": "User not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Users"
                ],
                "summary": "Update user information",
                "operationId": "updateUser",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@gmail.com"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "+1234567890"
                                    },
                                    "bio": {
                                        "type": "string",
                                        "example": "This is my bio"
                                    },
                                    "address": {
                                        "type": "string",
                                        "example": "123 Main St, City, Country"
                                    },
                                    "profile_picture": {
                                        "type": "string",
                                        "example": "http://example.com/profile.jpg"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    },
                    "404": {
                        "description": "User not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Users"
                ],
                "summary": "Delete a user",
                "operationId": "deleteUser",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation"
                    },
                    "404": {
                        "description": "User not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "tags": [
        {
            "name": "Available Slots",
            "description": "API Endpoints for Available Slots and Booking"
        },
        {
            "name": "Courses",
            "description": "API Endpoints for managing courses"
        },
        {
            "name": "Course Requests",
            "description": "API for handling course request submissions, listing, and approvals"
        },
        {
            "name": "Notifications",
            "description": "API Endpoints for user notifications"
        },
        {
            "name": "Teacher Levels",
            "description": "API Endpoints for managing Teacher Levels"
        },
        {
            "name": "Authentication",
            "description": "Authentication"
        },
        {
            "name": "Reviews",
            "description": "Reviews"
        },
        {
            "name": "Skills",
            "description": "Skills"
        },
        {
            "name": "Students",
            "description": "Students"
        },
        {
            "name": "Subjects",
            "description": "Subjects"
        },
        {
            "name": "Teachers",
            "description": "Teachers"
        },
        {
            "name": "Transactions",
            "description": "Transactions"
        },
        {
            "name": "Users",
            "description": "Users"
        }
    ],
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT",
                "description": "Enter token in format (Bearer <token>)"
            }
        }
    }
}